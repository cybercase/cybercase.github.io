<!doctype html><html lang=""><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="Jawbone UP24 band vibration hack"><title>UP24 Hacking</title><link href="https://fonts.googleapis.com/css?family=Roboto:400,100italic,100,300,900" rel="stylesheet" type="text/css"><link href="https://fonts.googleapis.com/css?family=Noto+Serif:400,400italic,700" rel="stylesheet" type="text/css"><link href="https://fonts.googleapis.com/css?family=Roboto+Mono:300" rel="stylesheet" type="text/css"><link rel="stylesheet" href="/styles/vendor-b1396f0528.css"><link rel="stylesheet" href="/styles/main-aa5eee9981.css"></head><body><div class="container"><header class="header"><nav class="header-links"><div class="header-links-home"><a href="/">Home</a></div><div class="header-links-articles"><a href="/blog">Writings</a></div></nav></header><article class="content blog-article" lang="en"><h1 id="up24-hacking">UP24 Hacking</h1><p><strong>Update</strong>: The <a href="../up24_notifications">UpNotifications App</a> is available for download!</p><h3 id="intro">Intro</h3><p>Last month I received a <a href="http://jawbone.com/store/buy/up24">Jawbone UP24</a> as birthday gift, and after a couple of weeks of <em>standard use</em> I couldn’t resist digging into its technical side to discover how this device actually works.</p><p>As far as I discovered, UP24 features a 3 axis accelerometer, 2 notification leds, a vibrating motor and a Bluetooth LE interface to communicate with the companion smartphone app “UP” (available for Android and iOS). Technical readers can find further info and a complete teardown of the <em>low-end</em> version of UP24 (the older UP) <a href="http://www.eevblog.com/forum/blog/eevblog-412-jawbone-up-pedometer-teardown/">here</a>.</p><p>The strength of UP24 comes also from the great companion app that let users configure alarms and notifications in response of activities or events. Great features are the <em>smart alarm</em> that chooses the best time to wake you up in the morning, and <em>idle notifications</em> that reminds you to stretch your legs after being too much time idle on the chair.</p><p>The UP24 is definitely meant to be an activity band, and I think this is the sole reason why the guys ad Jawbone decided (at the time of writing) to not provide some extra useful features (IMO) like notifications on email/sms/calls/etc…</p><iframe class="line-17-d line-11-m" src="//www.youtube.com/embed/fVznagkOwo0" frameborder="0" allowfullscreen></iframe><h3 id="beginning">Beginning</h3><p>I wanted to use my UP24 as a notification device for messages coming from some of my android phone’s contacts… something simple, like a <em>vibrate on sms</em>.</p><p>So, as usual, the first question is</p><blockquote><p>“ has someone already solved my problem? “</p></blockquote><p>Googling around I found <a href="http://www.plutinosoft.com/hacking-bluetooth-le/">something here</a> and <a href="https://forums.adafruit.com/viewtopic.php?f=8&amp;t=51450">here</a>. … Perfect! Just no code available, and wrong OS :)</p><p>However, thanks to these blogposts I knew it was possible to make vibrate my UP on command, and it had to be done through some custom Bluetooth LE command.</p><h3 id="learning">Learning</h3><p>After learning the basics of Bluetooth LE (<a href="https://www.usenix.org/conference/woot13/workshop-program/presentation/ryan">here’s</a> one of the most interesting article I found) I needed to find out how to use it on my Android.</p><p>Found a great example and all the necessary documentation <a href="http://developer.android.com/samples/BluetoothLeGatt/index.html">here</a>, and after installing Android Studio I was ready to start!</p><h3 id="doing">Doing</h3><p>Using the example from Android SDK I was able to list all the services of my UP24 in matter of minutes… However I still hadn’t a clue of what services, attributes, and values I had to exploit to make the UP24 vibrate.</p><blockquote><p>Then I thought of debugging the process on my phone</p></blockquote><p>to see what was happening behind the scene while issuing a vibrate command. Note, there isn’t any <em>vibrate command</em> in UP application, but I noticed that after a successful bluetooth pairing the band vibrates; and that was exactly the reaction I wanted to use for my custom-notifications app.</p><p>After connecting my phone to the Android Studio debugger I did set a breakpoint for UP’s process to break at <code>BluetoothGatt.writeCharacteristic</code> method… This made everything <em>a lot</em> slower both on my old phone and laptop but in the end, after a successful pairing, I got what I wanted :)</p><blockquote><p>-20 32 8 16 4 53 1 0 16 0 1 125.</p></blockquote><p>And by the end of the day I was able to record the video at the top of this page.</p><div class="mtop-1-m mtop-1-d"><img src="/images/up24_pairing.jpg" alt="Successful UP24 Pairing"></div><h3 id="epilogue">Epilogue</h3><p>I’m still writing my custom-notifications app, nevertheless I’m not releasing any of the source code of this project due to possible legal issues. However, for any <em>mid-level</em> programmer should be easy to achieve the same results just by following the steps of this blogpost.</p><h3 id="assignment">Assignment</h3><p>I also managed to make some experiments in order to reverse engineer a couple of the <em>sniffed</em> values… what if you change the previous value to “-20 32 8 16 4 53 1 0 <strong>3</strong> 0 1 125” ? :)</p><p><em>– 10/11/2014</em></p></article><footer class="footer"><div>© 2016 Stefano Brilli. All Rights Reserved.</div><div><a id="toggle-grid" href="#">toggle grid</a></div></footer></div><!-- Google Analytics: change UA-XXXXX-X to be your site's ID. --><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=
      function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;
      e=o.createElement(i);r=o.getElementsByTagName(i)[0];
      e.src='https://www.google-analytics.com/analytics.js';
      r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));
      ga('create','UA-60498490-1');ga('send','pageview');</script><script src="/scripts/vendor-16d4bd2210.js"></script><script src="/scripts/main-8ccd39a4e8.js"></script><script>hljs.initHighlightingOnLoad();</script></body></html>