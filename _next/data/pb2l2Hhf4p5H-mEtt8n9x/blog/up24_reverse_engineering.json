{"pageProps":{"post":{"slug":"up24_reverse_engineering","title":"UP24 Hacking","description":"Jawbone UP24 band vibration hack","date":"2014-10-11T00:00:00.322Z","content":"<h1>UP24 Hacking</h1>\n<h3>Intro</h3>\n<p>Last month I received a <a href=\"http://jawbone.com/store/buy/up24\">Jawbone UP24</a> as birthday gift, and after a couple of weeks of <em>standard use</em> I couldn’t resist digging into its technical side to discover how this device actually works.</p>\n<p>As far as I discovered, UP24 features a 3 axis accelerometer, 2 notification leds, a vibrating motor and a Bluetooth LE interface to communicate with the companion smartphone app “UP” (available for Android and iOS). Technical readers can find further info and a complete teardown of the <em>low-end</em> version of UP24 (the older UP) <a href=\"http://www.eevblog.com/forum/blog/eevblog-412-jawbone-up-pedometer-teardown/\">here</a>.</p>\n<p>The strength of UP24 comes also from the great companion app that let users configure alarms and notifications in response of activities or events. Great features are the <em>smart alarm</em> that chooses the best time to wake you up in the morning, and <em>idle notifications</em> that reminds you to stretch your legs after being too much time idle on the chair.</p>\n<p>The UP24 is definitely meant to be an activity band, and I think this is the sole reason why the guys ad Jawbone decided (at the time of writing) to not provide some extra useful features (IMO) like notifications on email/sms/calls/etc…</p>\n<iframe class=\"line-17-d line-11-m\" src=\"//www.youtube.com/embed/fVznagkOwo0\" frameborder=\"0\" allowfullscreen></iframe>\n<h3>Beginning</h3>\n<p>I wanted to use my UP24 as a notification device for messages coming from some of my android phone’s contacts… something simple, like a <em>vibrate on sms</em>.</p>\n<p>So, as usual, the first question is</p>\n<blockquote>\n<p>” has someone already solved my problem? ”</p>\n</blockquote>\n<p>Googling around I found <a href=\"http://www.plutinosoft.com/hacking-bluetooth-le/\">something here</a> and <a href=\"https://forums.adafruit.com/viewtopic.php?f=8&#x26;t=51450\">here</a>.\n… Perfect! Just no code available, and wrong OS :)</p>\n<p>However, thanks to these blogposts I knew it was possible to make vibrate my UP on command, and it had to be done through some custom Bluetooth LE command.</p>\n<h3>Learning</h3>\n<p>After learning the basics of Bluetooth LE (<a href=\"https://www.usenix.org/conference/woot13/workshop-program/presentation/ryan\">here’s</a> one of the most interesting article I found) I needed to find out how to use it on my Android.</p>\n<p>Found a great example and all the necessary documentation <a href=\"http://developer.android.com/samples/BluetoothLeGatt/index.html\">here</a>, and after installing Android Studio I was ready to start!</p>\n<h3>Doing</h3>\n<p>Using the example from Android SDK I was able to list all the services of my UP24 in matter of minutes… However I still hadn’t a clue of what services, attributes, and values I had to exploit to make the UP24 vibrate.</p>\n<blockquote>\n<p>Then I thought of debugging the process on my phone</p>\n</blockquote>\n<p>to see what was happening behind the scene while issuing a vibrate command. Note, there isn’t any <em>vibrate command</em> in UP application, but I noticed that after a successful bluetooth pairing the band vibrates; and that was exactly the reaction I wanted to use for my custom-notifications app.</p>\n<p>After connecting my phone to the Android Studio debugger I did set a breakpoint for UP’s process to break at <code>BluetoothGatt.writeCharacteristic</code> method… This made everything <em>a lot</em> slower both on my old phone and laptop but in the end, after a successful pairing, I got what I wanted :)</p>\n<blockquote>\n<p>-20 32 8 16 4 53 1 0 16 0 1 125.</p>\n</blockquote>\n<p>And by the end of the day I was able to record the video at the top of this page.</p>\n<div class=\"mtop-1-m mtop-1-d line-16-d line-13-m\" style=\"text-align: center;\">\n    <img src=\"/images/up24_pairing.jpg\" alt=\"Successful UP24 Pairing\" style=\"width: 100%;\"/>\n</div>\n<h3>Epilogue</h3>\n<p>I’m still writing my custom-notifications app, nevertheless I’m not releasing any of the source code of this project due to possible legal issues. However, for any <em>mid-level</em> programmer should be easy to achieve the same results just by following the steps of this blogpost.</p>\n<h3>Assignment</h3>\n<p>I also managed to make some experiments in order to reverse engineer a couple of the <em>sniffed</em> values… what if you change the previous value to “-20 32 8 16 4 53 1 0 <strong>3</strong> 0 1 125” ? :)</p>\n<p><em>— 10/11/2014</em></p>"}},"__N_SSG":true}